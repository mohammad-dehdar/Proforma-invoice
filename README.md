# Etmify Proforma Invoice System

ูพุฑูฺู **Etmify** ฺฉ ุณุงูุงูู ุชุญุช ูุจ ุจุฑุง ูุฏุฑุช ู ุตุฏูุฑ ูพุดโูุงฺฉุชูุฑ ุงุณุช ฺฉู ุจุง Next.js ุชูุณุนู ุฏุงุฏู ุดุฏู ู ุงฺฉููู ุฏุงุฑุง ุจฺฉโุงูุฏ ฺฉุงูู ุจุง ุงุชุตุงู ุจู ูพุงฺฏุงู ุฏุงุฏู MongoDB ู ุณุณุชู ุงุญุฑุงุฒ ููุช ุงุฎุชุตุงุต ูโุจุงุดุฏ.

## ุงูฺฉุงูุงุช ฺฉูุฏ

- ุงุญุฑุงุฒ ููุช ุจุฑ ุงุณุงุณ ููุฑุณุช ฺฉุงุฑุจุฑุงู ุชุนุฑู ุดุฏู ุชูุณุท ูุฏุฑ ุณุณุชู
- ุฐุฎุฑูโุณุงุฒ ู ุจุงุฒุงุจ ูุงฺฉุชูุฑูุง ุฏุฑ ูพุงฺฏุงู ุฏุงุฏู MongoDB
- ุฏุงุดุจูุฑุฏ ุฒูุฏู ุจุง ููุงุด ุขูุงุฑ ฺฉูุฏ (ุชุนุฏุงุฏ ูุงฺฉุชูุฑูุงุ ุฏุฑุขูุฏ ฺฉูุ ูุดุชุฑุงู ู ...)
- ุชุงุฑุฎฺู ูุงฺฉุชูุฑูุง ุจุง ุงูฺฉุงู ุจุงุฑฺฏุฐุงุฑ ูุฌุฏุฏ ุจุฑุง ูุฑุงุด ุง ุญุฐู
- ูพุดโููุงุดุ ฺุงูพ ู ุงุฑุณุงู ุงูู ุจุฑุง ูุงฺฉุชูุฑูุง

## ูพุดโูุงุฒูุง

- Node.js 18 ุง ุฌุฏุฏุชุฑ
- ุฏุณุชุฑุณ ุจู ฺฉ ฺฉูุงุณุชุฑ MongoDB (ุฏุฑ ุงู ูพุฑูฺู ุงุฒ MongoDB Atlas ุงุณุชูุงุฏู ุดุฏู ุงุณุช)

## ูุชุบุฑูุง ูุญุท

ููููู ูุงู `.env.example` ุฏุฑ ูุฎุฒู ูุฑุงุฑ ุฏุงุฏู ุดุฏู ุงุณุช. ุจุฑุง ุงุฌุฑุง ฺฉุงู ุงุณุช ุขู ุฑุง ุจู `.env.local` ฺฉูพ ฺฉุฑุฏู ู ููุงุฏุฑ ุฑุง ุจุฑ ุงุณุงุณ ูุงุฒ ุฎูุฏ ุชูุธู ฺฉูุฏ.

| ูุงู ูุชุบุฑ | ุชูุถุญ |
|-----------|-------|
| `MONGODB_URI` | ุฑุดุชู ุงุชุตุงู ุจู MongoDB Atlas (ููููู ุฏุฑ ูุงู `.env.example` ูุฑุงุฑ ุฏุงุฏู ุดุฏู ุงุณุช). |
| `MONGODB_DB` | ูุงู ูพุงฺฏุงู ุฏุงุฏูโุง ฺฉู ูุงฺฉุชูุฑูุง ู ฺฉุงุฑุจุฑุงู ุฏุฑ ุขู ุฐุฎุฑู ูโุดููุฏ (ูพุดโูุฑุถ: `proforma`). |
| `AUTH_SECRET` | ฺฉูุฏ ุณุฑ ุจุฑุง ุงูุถุง ุชูฺฉูโูุง ุงุญุฑุงุฒ ููุช (ฺฉ ุฑุดุชู ูู ู ุชุตุงุฏู ุงูุชุฎุงุจ ฺฉูุฏ). |
| `AUTH_SEED_USERS` | ููุฑุณุช ฺฉุงุฑุจุฑุงู ุงููู ุจู ุตูุฑุช `username:password` ู ุฌุฏุง ุดุฏู ุจุง ูุฑฺฏูู. ูุซุงู: `admin:StrongPass123,finance:AnotherPass456` |

> ุฏุฑ ุงููู ุงุฌุฑุง ุณุฑูุฑุ ฺฉุงุฑุจุฑุงู ุฐฺฉุฑ ุดุฏู ุฏุฑ `AUTH_SEED_USERS` ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฏุฑ ูพุงฺฏุงู ุฏุงุฏู ุงุฌุงุฏ ุดุฏู ู ฺฏุฐุฑูุงฺูโูุง ุจุง ุงูฺฏูุฑุชู `PBKDF2` ุฑูุฒูฺฏุงุฑ ูโุดููุฏ.

## ุงุฌุฑุง ูุญู

```bash
npm install
npm run dev
```

ุณูพุณ ุจุฑูุงูู ุฏุฑ ุขุฏุฑุณ [http://localhost:3000](http://localhost:3000) ุฏุฑ ุฏุณุชุฑุณ ุฎูุงูุฏ ุจูุฏ.

## ูุญูู ูุฑูุฏ ุจู ุณุงูุงูู

1. ุฏุฑ ูุงู `.env.local` ููุฏุงุฑ `AUTH_SEED_USERS` ุฑุง ุจุง ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ ุฏูุฎูุงู ุฎูุฏ ุชูุธู ฺฉูุฏ.
2. ูพุณ ุงุฒ ุงุฌุฑุง ูพุฑูฺูุ ุตูุญู ูุฑูุฏ ููุงุด ุฏุงุฏู ูโุดูุฏ. ุจุง ฺฉ ุงุฒ ุญุณุงุจโูุง ุชุนุฑู ุดุฏู ูุงุฑุฏ ุดูุฏ.
3. ูพุณ ุงุฒ ูุฑูุฏุ ูโุชูุงูุฏ ูุงฺฉุชูุฑ ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏุ ุชุงุฑุฎฺู ุฑุง ุจุจูุฏ ู ุฏุงุดุจูุฑุฏ ุฑุง ุจุฑุฑุณ ููุงุฏ.
4. ฺฏุฒูู ยซุฎุฑูุฌยป ุฏุฑ ุณุฑุจุฑฺฏ ุตูุญู ุงูฺฉุงู ุฎุงุชูู ุฌูุณู ฺฉุงุฑุจุฑ ุฑุง ูุฑุงูู ูโฺฉูุฏ.

## API ูุง ููู

ุชูุงู ุฏุฑุฎูุงุณุชโูุง ุจุงุฏ ุจุง ฺฉูฺฉ ุงุญุฑุงุฒ ููุช ุงุฑุณุงู ุดููุฏ ู ูุฐุง ุฏุฑ ุณูุช ฺฉุงุฑุจุฑ ุงุฒ `fetch` ุจุง ฺฏุฒูู `credentials: 'include'` ุงุณุชูุงุฏู ุดุฏู ุงุณุช.

| ุขุฏุฑุณ | ูุชุฏ | ุชูุถุญ |
|------|------|-------|
| `/api/auth/login` | `POST` | ูุฑูุฏ ฺฉุงุฑุจุฑ ุจุง ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ. |
| `/api/auth/logout` | `POST` | ุฎุฑูุฌ ฺฉุงุฑุจุฑ ู ูพุงฺฉ ฺฉุฑุฏู ฺฉูฺฉ ุฌูุณู. |
| `/api/auth/session` | `GET` | ุจุฑุฑุณ ูุถุนุช ุฌูุณู ูุนุงู. |
| `/api/invoices` | `GET` | ุฏุฑุงูุช ูุณุช ูุงฺฉุชูุฑูุง (ูุฒูู ุจุฑ ุงุณุงุณ ุฒูุงู ุงุฌุงุฏ). |
| `/api/invoices` | `POST` | ุงุฌุงุฏ ูุงฺฉุชูุฑ ุฌุฏุฏุ ุฏุฑ ุตูุฑุช ุชฺฉุฑุงุฑ ุดูุงุฑูุ ูพุงุณุฎ `409` ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ. |
| `/api/invoices/:number` | `PUT` | ุจุฑูุฒุฑุณุงู ูุงฺฉุชูุฑ ููุฌูุฏ (ูพุณ ุงุฒ ุชุฃุฏ ฺฉุงุฑุจุฑ). |
| `/api/invoices/:number` | `DELETE` | ุญุฐู ูุงฺฉุชูุฑ ุจุง ุดูุงุฑู ูุดุฎุต. |
| `/api/invoices/stats` | `GET` | ุฏุฑุงูุช ุขูุงุฑ ุฏุงุดุจูุฑุฏ ู ุขุฎุฑู ูุงฺฉุชูุฑูุง. |

## ุณุงุฎุชุงุฑ ุฏุงุฏู ูุงฺฉุชูุฑ

ููููู ุณูุฏ ุฐุฎุฑู ุดุฏู ุฏุฑ ูุฌููุนู `invoices`:

```json
{
  "number": "INV-1403-001",
  "date": "1403/02/15",
  "customer": {
    "name": "ุดุฑฺฉุช ููููู",
    "company": "ูุซุงู",
    "phone": "09120000000"
  },
  "services": [
    { "id": 1, "description": "ุณุฑูุณ A", "quantity": 2, "price": 500000 }
  ],
  "paymentInfo": {
    "cardNumber": "6037991234567890",
    "cardHolderName": "ุนู ุฑุถุง",
    "bankName": "ูู"
  },
  "discount": 10,
  "tax": 9,
  "notes": "ุชูุถุญุงุช ุงุถุงู",
  "createdAt": "2025-02-15T08:30:00.000Z",
  "updatedAt": "2025-02-15T08:30:00.000Z",
  "createdBy": "admin",
  "updatedBy": "admin"
}
```

## ุชุณุช ู ุงุณุชูุฑุงุฑ

- ูุจู ุงุฒ ุงุณุชูุฑุงุฑุ ูุทูุฆู ุดูุฏ ููุงุฏุฑ `.env` ุจุฑ ุฑู ุณุฑูุฑ ุชูุธู ุดุฏูโุงูุฏ.
- ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุงูุดุง ุงุทูุงุนุงุชุ ุงุฒ ุงูุชุดุงุฑ ูุงู `.env.local` ุฎูุฏุฏุงุฑ ฺฉูุฏ.
- ุชูุตู ูโุดูุฏ ฺฉูุฏ `AUTH_SECRET` ุฑุง ุจูโุตูุฑุช ุฏูุฑูโุง ุชุบุฑ ุฏูุฏ ู ฺฉุงุฑุจุฑุงู ุฑุง ูุฏุฑุช ฺฉูุฏ.

ูููู ุจุงุดุฏ! ๐
