# Proforma Invoice Management

سیستم مدیریت پیش‌فاکتور ساخته شده با Next.js که شامل احراز هویت، داشبورد تحلیلی و ذخیره‌سازی داده‌ها در MongoDB است.

## پیش‌نیازها

- Node.js 18 یا جدیدتر
- حساب MongoDB Atlas یا یک سرور MongoDB در دسترس

## پیکربندی محیطی

یک فایل `.env` بر اساس `.env.example` بسازید و مقادیر زیر را تنظیم کنید:

```env
MONGODB_URI=...             # رشته اتصال به پایگاه داده
MONGODB_DB=proforma_invoice # نام دیتابیس دلخواه
JWT_SECRET=...              # عبارت امن برای امضای توکن‌ها
AUTH_DEFAULT_USERNAME=...   # نام کاربری پیش‌فرض برای ورود اولیه
AUTH_DEFAULT_PASSWORD=...   # رمز عبور پیش‌فرض
```

> با اولین تلاش برای ورود، در صورت نبود کاربر در پایگاه داده، کاربری با مقادیر `AUTH_DEFAULT_USERNAME` و `AUTH_DEFAULT_PASSWORD` ایجاد می‌شود.

## نصب وابستگی‌ها

```bash
npm install
```

## اجرای محیط توسعه

```bash
npm run dev
```

سپس به آدرس [http://localhost:3000](http://localhost:3000) بروید و با نام کاربری و رمز عبور تنظیم شده وارد شوید.

## ویژگی‌ها

- احراز هویت مبتنی بر کوکی با زمان انقضای ۷ روزه
- ذخیره‌سازی فاکتورها در MongoDB به همراه تاریخ ایجاد و بروزرسانی
- داشبورد آماری شامل تعداد فاکتورها، درآمد کل، مشتریان یکتا و فاکتورهای ماه جاری
- تاریخچه فاکتورها با قابلیت ویرایش و حذف
- همگام‌سازی فوری داشبورد و تاریخچه پس از ایجاد، ویرایش یا حذف فاکتور

## تست و بررسی

در صورت افزودن تست‌ها یا بررسی‌های بیشتر می‌توانید از اسکریپت‌های زیر استفاده کنید:

```bash
npm run lint
npm test
```

## استقرار

برای استقرار، متغیرهای محیطی را در سرویس مقصد تنظیم کرده و دستور زیر را اجرا کنید:

```bash
npm run build
npm start
```

> اطمینان حاصل کنید که اتصال به MongoDB از محیط استقرار مجاز است.
